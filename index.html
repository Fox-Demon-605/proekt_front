<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Онлайн-библиотека | Читай с умом</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Merriweather:wght@400;700&display=swap" rel="stylesheet">
</head>
<body>
    <!-- Модалка авторизации/регистрации -->
    <div class="auth-modal" id="authModal">
        <div class="auth-container">
            <div class="auth-header">
                <h2>Добро пожаловать в библиотеку</h2>
                <p>Войдите или создайте аккаунт</p>
            </div>
            
            <div class="auth-tabs">
                <button class="auth-tab active" data-tab="login">Вход</button>
                <button class="auth-tab" data-tab="register">Регистрация</button>
            </div>
            
            <form id="loginForm" class="auth-form active">
                <div class="form-group">
                    <label for="loginEmail">Email</label>
                    <input type="email" id="loginEmail" placeholder="your@email.com" required>
                </div>
                <div class="form-group">
                    <label for="loginPassword">Пароль</label>
                    <input type="password" id="loginPassword" placeholder="••••••••" required>
                </div>
                <button type="submit" class="btn btn-primary btn-block">Войти</button>
                <div class="auth-error" id="loginError"></div>
            </form>
            
            <form id="registerForm" class="auth-form">
                <div class="form-group">
                    <label for="registerName">Имя</label>
                    <input type="text" id="registerName" placeholder="Ваше имя" required>
                </div>
                <div class="form-group">
                    <label for="registerEmail">Email</label>
                    <input type="email" id="registerEmail" placeholder="your@email.com" required>
                </div>
                <div class="form-group">
                    <label for="registerPassword">Пароль</label>
                    <input type="password" id="registerPassword" placeholder="Минимум 6 символов" required>
                </div>
                <div class="form-group">
                    <label for="registerConfirm">Подтвердите пароль</label>
                    <input type="password" id="registerConfirm" placeholder="••••••••" required>
                </div>
                <button type="submit" class="btn btn-primary btn-block">Создать аккаунт</button>
                <div class="auth-error" id="registerError"></div>
            </form>
            
            <div class="auth-footer">
                <p>Продолжая, вы соглашаетесь с <a href="#">Условиями использования</a></p>
            </div>
        </div>
    </ </div>

    <!-- Основной контент (скрыт до авторизации) -->
    <div class="main-content" id="mainContent" style="display: none;">
        <!-- Шапка -->
        <header class="header">
            <div class="header-left">
                <div class="logo">
                    <i class="fas fa-book-open"></i>
                    <h1>ЧитайГрад</h1>
                </div>
                <nav class="main-nav">
                    <a href="#" class="nav-link active"><i class="fas fa-home"></i> Библиотека</a>
                    <a href="#" class="nav-link"><i class="fas fa-history"></i> История</a>
                    <a href="#" class="nav-link"><i class="fas fa-user"></i> Профиль</a>
                </nav>
            </div>
            
            <div class="header-right">
                <div class="search-box">
                    <i class="fas fa-search"></i>
                    <input type="text" id="globalSearch" placeholder="Поиск книг, авторов, жанров...">
                </div>
                <button class="btn btn-outline" id="logoutBtn">
                    <i class="fas fa-sign-out-alt"></i> Выйти
                </button>
            </div>
        </header>

        <!-- Основной контент -->
        <main class="content-wrapper">
            <!-- Левая колонка: Библиотека -->
            <section class="library-section">
                <div class="section-header">
                    <h2><i class="fas fa-book"></i> Библиотека</h2>
                    <div class="filters">
                        <select id="genreFilter" class="filter-select">
                            <option value="">Все жанры</option>
                            <option value="Фантастика">Фантастика</option>
                            <option value="Детектив">Детектив</option>
                            <option value="Роман">Роман</option>
                            <option value="Хоррор">Хоррор</option>
                            <option value="Научная литература">Научная литература</option>
                            <option value="Биография">Биография</option>
                        </select>
                        <select id="sortFilter" class="filter-select">
                            <option value="newest">Сначала новые</option>
                            <option value="popular">Популярные</option>
                            <option value="title">По названию</option>
                        </select>
                    </div>
                </div>
                
                <div class="books-grid" id="booksGrid">
                    <!-- Книги будут загружены через JS -->
                </div>
            </section>

            <!-- Правая колонка: Списки -->
            <aside class="lists-section">
                <div class="lists-tabs">
                    <button class="list-tab active" data-list="reading">
                        <i class="fas fa-book-reader"></i> Читаю
                    </button>
                    <button class="list-tab" data-list="want">
                        <i class="fas fa-bookmark"></i> Хочу прочитать
                    </button>
                    <button class="list-tab" data-list="finished">
                        <i class="fas fa-check-circle"></i>> Прочитано
                    </button>
                    <button class="list-tab" data-list="history">
                        <i class="fas fa-history"></i> История
                    </button>
                </div>
                
                <div class="lists-content">
                    <div class="list-panel active" id="readingList">
                        <h3><i class="fas fa-spinner"></i> Читаю сейчас</h3>
                        <div class="list-items" id="readingItems">
">
                            <!-- Список книг "Читаю" -->
                        </div>
                    </div>
                    
                    <div class="list-panel" id="wantList">
                        <h3><i class="fas fa-bookmark"></i> Хочу прочитать</h3>
                        <div class="list-items" id="wantItems">
                            <!-- Список книг "Хочу прочитать" -->
                        </div>
                    </div>
                    
                    <div class="list-panel" id="finishedList">
                        <h3><i class="fas fa-check-circle"></i> Прочитано</h3>
                        <div class="list-items" id="finishedItems">
                            <!-- Список прочитанных книг -->
                        </div>
                    </div>
                    
                    <div class="list-panel" id="historyList">
                        <h3><i class="fas fa-history"></i> История чтения</h3>
                        <div class="list-items" id="historyItems">
                            <!-- История чтения -->
                        </div>
                    </div>
                </div>
                
                <div class="stats-card">
                    <h4><i class="fas fa-chart-line"></i> Ваша статистика</h4>
                    <div class="stats">
                        <div class="stat-item">
                            <span class="stat-number" id="totalBooks">0</span>
                            <span class="stat-label">Всего книг</span>
                        </div>
                        <div class="stat-item">
                            <span class="stat-number" id="readBooks">0</span>
                            <span class="stat-label">Прочитано</span>
                        </div>
                        <div class="stat-item">
                            <span class="stat-number" id="readingNow">0</span>
                            <span class="stat-label">Читаю сейчас</span>
                        </div>
                    </div>
                </div>
            </aside>
        </main>

        <!-- Страница книги (скрыта) -->
        <div class="book-page" id="bookPage" style="display: none;">
            <div class="book-page-header">
                <button class="btn btn-back" id="backToLibrary">
                    <i class="fas fa-arrow-left"></i> Назад в библиотеку
                </button>
                <div class="book-actions">
                    <button class="btn btn-outline" id="addToWant">
                        <i class="fas fa-bookmark"></i> Хочу прочитать
                    </button>
                    <button class="btn btn-primary" id="startReading">
                        <i class="fas fa-play"></i> Начать читать
                    </button>
                </div>
            </div>
            
            <div class="book-page-content">
                <div class="book-cover-large">
                    <img id="bookCoverLarge" src="" alt="Обложка книги">
                    <div class="book-progress" id="bookProgress">
                        <div class="progress-bar">
                            <div class="progress-fill" style="width: 0%"></div>
                        </div>
                        <span>0% прочитано</span>
                    </div>
                </div>
                
                <div class="book-details">
                    <h1 id="bookTitle">Название книги</h1>
                    <p class="book-author" id="bookAuthor">Автор</p>
                    <div class="book-genres" id="bookGenres">
                        <!-- Жанры -->
                    </div>
                    
                    <div class="book-description">
                        <h3><i class="fas fa-align-left"></i> Описание</h3>
                        <p id="bookDescription">Описание книги...</p>
                    </div>
                    
                    <div class="book-meta">
                        <div class="meta-item">
                            <i class="fas fa-calendar"></i>
                            <span>Год: <strong id="bookYear">2023</strong></span>
                        </div>
                        <div class="meta-item">
                            <i class="fas fa-file-alt"></i>
                            <span>Страниц: <strong id="bookPages">320</strong></span>
                        </div>
                        <div class="meta-item">
                            <i class="fas fa-star"></i>
                            <span>Рейтинг: <strong id="bookRating">4.5</strong>/5</span>
                        </div>
                    </div>
                    
                    <div class="reading-controls">
                        <h3><i class="fas fa-book-open"></i> Продолжить чтение</h3>
                        <div class="chapter-selector">
                            <label for="chapterSelect">Глава:</label>
                            <select id="chapterSelect">
                                <option value="1">Глава 1: Начало</option>
                            </select>
                        </div>
                        <button class="btn btn-primary btn-large" id="continueReading">
                            <i class="fas fa-play-circle"></i> Продолжить с места
                        </button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Чат-бот -->
        <div class="chat-widget" id="chatWidget">
            <div class="chat-header">
                <div class="chat-title">
                    <i class="fas fa-robot"></i>
                    <h3>Книжный помощник</h3>
                </div>
                <button class="chat-close" id="closeChat">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            
            <div class="chat-messages" id="chatMessages">
                <div class="message bot">
                    <div class="message-content">
                        Привет! Я помогу найти книги по вашему вкусу. 
                        Спросите "посоветуй книгу из жанра хоррор" или опишите, что хотите почитать.
                    </div>
                    <div class="message-time">Только что</div>
                </div>
            </div>
            
            <div class="chat-input-area">
                <div class="typing-indicator" id="typingIndicator" style="display: none;">
                    <div class="typing-dots">
                        <div class="dot"></div>
                        <div class="dot"></div>
                        <div class="dot"></div>
                    </div>
                    <span>Бот печатает...</span>
                </div>
                
                <div class="input-wrapper">
                    <input type="text" 
                           id="chatInput" 
                           placeholder="Напишите сообщение..." 
                           maxlength="500">
                    <button class="btn btn-send" id="sendMessage">
                        <i class="fas fa-paper-plane"></i>
                    </button>
                </div>
                
                <div class="quick-suggestions">
                    <button class="quick-suggestion" data-query="посоветуй книгу из жанра хорррор">
                        Хоррор
                    </button>
                    <button class="quick-suggestion" data-query="что почитать из фантастики">
                        Фантастика
                    </button>
                    <button class="quick-suggestion" data-query="лучшие детективы">
                        Детективы
                    </button>
                    <button class="quick-suggestion" id="clearChat">
                        <i class="fas fa-trash"></i> Очистить чат
                    </button>
                </div>
            </div>
        </div>
        
        <!-- Кнопка открытия чата -->
        <button class="chat-toggle" id="openChat">
            <i class="fas fa-comments"></i>
            <span class="notification-badge" id="chatNotification" style="display: none;">1</span>
        </button>
    </div>

    <!-- Уведомления -->
    <div class="toast-container" id="toastContainer"></div>

    <script src="app.js" type="module"></script>
</body>
</html>
